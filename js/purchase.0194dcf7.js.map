{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es.array.reduce.js","webpack:///./src/views/Checkout.vue","webpack:///./src/views/Checkout.vue?6daf","webpack:///./node_modules/core-js/internals/array-reduce.js","webpack:///./src/views/Checkout.vue?21fa"],"names":["$","$reduce","left","arrayMethodIsStrict","arrayMethodUsesToLength","CHROME_VERSION","IS_NODE","STRICT_METHOD","USES_TO_LENGTH","1","CHROME_BUG","target","proto","forced","reduce","callbackfn","this","arguments","length","undefined","class","id","style","role","href","checkoutItems","item","idx","key","width","height","artworkUrl60","trackExplicitness","toLowerCase","test","trackName","artistName","trackPrice","orderTotal","name","setup","priceReducer","acc","parseFloat","checkoutData","document","querySelector","disabled","store","state","push","render","__scopeId","aFunction","toObject","IndexedObject","toLength","createMethod","IS_RIGHT","that","argumentsLength","memo","O","self","index","i","TypeError","module","exports","right"],"mappings":"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","file":"js/purchase.0194dcf7.js","sourcesContent":["'use strict';\nvar $ = require('../internals/export');\nvar $reduce = require('../internals/array-reduce').left;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\nvar CHROME_VERSION = require('../internals/engine-v8-version');\nvar IS_NODE = require('../internals/engine-is-node');\n\nvar STRICT_METHOD = arrayMethodIsStrict('reduce');\nvar USES_TO_LENGTH = arrayMethodUsesToLength('reduce', { 1: 0 });\n// Chrome 80-82 has a critical bug\n// https://bugs.chromium.org/p/chromium/issues/detail?id=1049982\nvar CHROME_BUG = !IS_NODE && CHROME_VERSION > 79 && CHROME_VERSION < 83;\n\n// `Array.prototype.reduce` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n$({ target: 'Array', proto: true, forced: !STRICT_METHOD || !USES_TO_LENGTH || CHROME_BUG }, {\n  reduce: function reduce(callbackfn /* , initialValue */) {\n    return $reduce(this, callbackfn, arguments.length, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","<template>\r\n    <div class=\"page-title-container\">\r\n        <div class=\"page-title\">Checkout</div>\r\n    </div>\r\n    <div id=\"outside-container\">\r\n        <section id=\"checkout\">\r\n            <div v-for=\"(item, idx) in checkoutItems\" :key=\"idx\">\r\n                    <span>\r\n                        <img width=\"60\" height=\"60\" :style=\"{ 'background-image': 'url(' + item.artworkUrl60 + ')' }\">\r\n                        <span v-if=\"item.trackExplicitness && (item.trackExplicitness.toLowerCase() === 'explicit' || /^clean/.test(item.trackExplicitness.toLowerCase()))\" \r\n                            class=\"explicitness-container\"\r\n                            :class=\"{'explicit': item.trackExplicitness.toLowerCase() === 'explicit', \r\n                                    'clean': /^clean/.test(item.trackExplicitness.toLowerCase()) }\">\r\n                                    {{item.trackExplicitness}}\r\n                        </span>\r\n                    </span>\r\n                    <span class=\"name-cell\"><span class=\"song-name\">{{item.trackName}}</span></span>\r\n                    <span class=\"name-cell\"><span class=\"song-name\">{{item.artistName}}</span></span>\r\n                    <span class=\"small-font\" style=\"margin-left: auto;\">${{item.trackPrice}}</span> \r\n            </div>\r\n            <hr style=\"color: white;\">\r\n            <div class=\"space-btwn\">\r\n                <span>Total:</span>\r\n                <span style=\"padding-right: .5em;\">${{ orderTotal }}</span>\r\n            </div>\r\n        </section>\r\n        <section>\r\n            <form id=\"payment-form\">\r\n                <div id=\"card-element\"></div>\r\n                <button id=\"stripe-button\">\r\n                    <div class=\"spinner hidden\" id=\"spinner\"></div>\r\n                    <span id=\"button-text\">Pay</span>\r\n                </button>\r\n                <p id=\"card-error\" role=\"alert\"></p>\r\n                <p class=\"result-message hidden\">\r\n                    Payment succeeded, see the result in your\r\n                    <a href=\"\" target=\"_blank\">Stripe dashboard.</a> Refresh the page to pay again.\r\n                </p>\r\n            </form>\r\n        </section>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import { computed, onMounted, reactive, toRefs } from 'vue'\r\n    import store from '@/store'\r\n    import { createPaymentIntent } from '@/shared/logic'\r\n    import { redirectHome } from '@/shared/navigation'\r\n\r\n    export default {\r\n        name: 'Checkout',\r\n        setup() {\r\n            const priceReducer = (acc, {trackPrice = '0'}={}) => acc + parseFloat(trackPrice);\r\n            const checkoutData = reactive({\r\n                checkoutItems: [],\r\n                orderTotal: computed(() => (checkoutData.checkoutItems).reduce(priceReducer, 0))\r\n            });\r\n\r\n            onMounted(() => {\r\n                document.querySelector(\"#stripe-button\").disabled = true;\r\n                if (store.state.checkoutItems.length === 0) {\r\n                    redirectHome();\r\n                    return;\r\n                }\r\n                checkoutData.checkoutItems.push(...store.state.checkoutItems);\r\n                createPaymentIntent(store.state.checkoutItems);\r\n            });\r\n            return { ...toRefs(checkoutData) };\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    div#outside-container {\r\n        font-family: -apple-system, BlinkMacSystemFont, sans-serif;\r\n        font-size: 16px;\r\n        -webkit-font-smoothing: antialiased;\r\n        display: flex;\r\n        flex-wrap: wrap;\r\n        width: 100vw;\r\n        margin-top: 2em;\r\n        \r\n        section {\r\n            margin: auto;\r\n            &#checkout {\r\n                div {\r\n                    display: flex;\r\n                    flex-wrap: wrap;\r\n                    margin-bottom: .5em;\r\n                    & * {\r\n                        display: block;\r\n                        margin: auto .5em auto 0; \r\n                        .explicitness-container {\r\n                            width: 60px;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    form {\r\n        width: 30vw;\r\n        min-width: 350px;\r\n        align-self: center;\r\n        box-shadow: 0px 0px 0px 0.5px rgba(50, 50, 93, 0.1),\r\n            0px 2px 5px 0px rgba(50, 50, 93, 0.1), 0px 1px 1.5px 0px rgba(0, 0, 0, 0.07);\r\n        border-radius: 7px;\r\n        padding: 40px;\r\n    }\r\n\r\n    input {\r\n        border-radius: 6px;\r\n        margin-bottom: 6px;\r\n        padding: 12px;\r\n        border: 1px solid rgba(50, 50, 93, 0.1);\r\n        height: 44px;\r\n        font-size: 16px;\r\n        width: 100%;\r\n        background: white;\r\n    }\r\n\r\n    .result-message {\r\n        line-height: 22px;\r\n        font-size: 16px;\r\n    }\r\n\r\n    .result-message a {\r\n        color: #42B9FF;\r\n        font-weight: 600;\r\n        text-decoration: none;\r\n    }\r\n\r\n    .hidden {\r\n        display: none;\r\n    }\r\n\r\n    #card-error {\r\n        color: rgb(105, 115, 134);\r\n        text-align: left;\r\n        font-size: 13px;\r\n        line-height: 17px;\r\n        margin-top: 12px;\r\n    }\r\n\r\n    #card-element {\r\n        border-radius: 4px 4px 0 0 ;\r\n        padding: 12px;\r\n        border: 1px solid rgba(50, 50, 93, 0.1);\r\n        height: 44px;\r\n        width: 100%;\r\n        background: white;\r\n    }\r\n\r\n    #payment-request-button {\r\n        margin-bottom: 32px;\r\n    }\r\n\r\n    /* Buttons and links */\r\n    button {\r\n        background: #42B9FF;\r\n        color: #ffffff;\r\n        font-family: Arial, sans-serif;\r\n        border-radius: 0 0 4px 4px;\r\n        border: 0;\r\n        padding: 12px 16px;\r\n        font-size: 16px;\r\n        font-weight: 600;\r\n        cursor: pointer;\r\n        display: block;\r\n        transition: all 0.2s ease;\r\n        box-shadow: 0px 4px 5.5px 0px rgba(0, 0, 0, 0.07);\r\n        width: 100%;\r\n    }\r\n\r\n    button:hover {\r\n        filter: contrast(115%);\r\n    }\r\n\r\n    button:disabled {\r\n        opacity: 0.5;\r\n        cursor: default;\r\n    }\r\n\r\n    /* spinner/processing state, errors */\r\n    .spinner,\r\n    .spinner:before,\r\n    .spinner:after {\r\n        border-radius: 50%;\r\n    }\r\n\r\n    .spinner {\r\n        color: #ffffff;\r\n        font-size: 22px;\r\n        text-indent: -99999px;\r\n        margin: 0px auto;\r\n        position: relative;\r\n        width: 20px;\r\n        height: 20px;\r\n        box-shadow: inset 0 0 0 2px;\r\n        -webkit-transform: translateZ(0);\r\n        -ms-transform: translateZ(0);\r\n        transform: translateZ(0);\r\n    }\r\n    .spinner:before,\r\n    .spinner:after {\r\n        position: absolute;\r\n        content: \"\";\r\n    }\r\n\r\n    .spinner:before {\r\n        width: 10.4px;\r\n        height: 20.4px;\r\n        background: #42B9FF;\r\n        border-radius: 20.4px 0 0 20.4px;\r\n        top: -0.2px;\r\n        left: -0.2px;\r\n        -webkit-transform-origin: 10.4px 10.2px;\r\n        transform-origin: 10.4px 10.2px;\r\n        -webkit-animation: loading 2s infinite ease 1.5s;\r\n        animation: loading 2s infinite ease 1.5s;\r\n    }\r\n\r\n    .spinner:after {\r\n        width: 10.4px;\r\n        height: 10.2px;\r\n        background: #42B9FF;\r\n        border-radius: 0 10.2px 10.2px 0;\r\n        top: -0.1px;\r\n        left: 10.2px;\r\n        -webkit-transform-origin: 0px 10.2px;\r\n        transform-origin: 0px 10.2px;\r\n        -webkit-animation: loading 2s infinite ease;\r\n        animation: loading 2s infinite ease;\r\n    }\r\n\r\n    @-webkit-keyframes loading {\r\n        0% {\r\n            -webkit-transform: rotate(0deg);\r\n            transform: rotate(0deg);\r\n        }\r\n        100% {\r\n            -webkit-transform: rotate(360deg);\r\n            transform: rotate(360deg);\r\n        }\r\n    }\r\n\r\n    @keyframes loading {\r\n        0% {\r\n            -webkit-transform: rotate(0deg);\r\n            transform: rotate(0deg);\r\n        }\r\n        100% {\r\n            -webkit-transform: rotate(360deg);\r\n            transform: rotate(360deg);\r\n        }\r\n    }\r\n\r\n    @media only screen and (max-width: 600px) {\r\n        form {\r\n            width: 80vw;\r\n        }\r\n    }\r\n</style>","import { render } from \"./Checkout.vue?vue&type=template&id=e3873970&scoped=true\"\nimport script from \"./Checkout.vue?vue&type=script&lang=js\"\nexport * from \"./Checkout.vue?vue&type=script&lang=js\"\n\nimport \"./Checkout.vue?vue&type=style&index=0&id=e3873970&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-e3873970\"\n\nexport default script","var aFunction = require('../internals/a-function');\nvar toObject = require('../internals/to-object');\nvar IndexedObject = require('../internals/indexed-object');\nvar toLength = require('../internals/to-length');\n\n// `Array.prototype.{ reduce, reduceRight }` methods implementation\nvar createMethod = function (IS_RIGHT) {\n  return function (that, callbackfn, argumentsLength, memo) {\n    aFunction(callbackfn);\n    var O = toObject(that);\n    var self = IndexedObject(O);\n    var length = toLength(O.length);\n    var index = IS_RIGHT ? length - 1 : 0;\n    var i = IS_RIGHT ? -1 : 1;\n    if (argumentsLength < 2) while (true) {\n      if (index in self) {\n        memo = self[index];\n        index += i;\n        break;\n      }\n      index += i;\n      if (IS_RIGHT ? index < 0 : length <= index) {\n        throw TypeError('Reduce of empty array with no initial value');\n      }\n    }\n    for (;IS_RIGHT ? index >= 0 : length > index; index += i) if (index in self) {\n      memo = callbackfn(memo, self[index], index, O);\n    }\n    return memo;\n  };\n};\n\nmodule.exports = {\n  // `Array.prototype.reduce` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduce\n  left: createMethod(false),\n  // `Array.prototype.reduceRight` method\n  // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright\n  right: createMethod(true)\n};\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Checkout.vue?vue&type=style&index=0&id=e3873970&scoped=true&lang=scss\""],"sourceRoot":""}